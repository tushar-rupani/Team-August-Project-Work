<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%=executeBasicInfo[0].full_name%> | Profile</title>

    <!-- Google Fonts Poppins-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- material icons -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    
    <!-- stylesheet -->
    <link rel="stylesheet" href="/css/profile.css">
    <style>
        body{
            font-family: 'Poppins';
        }
    </style>
</head>

<body>
    <div class="container">
        <%- include('./common/sidebar') %>
            <!-- END OF SIDEBAR -->
            <main>

                <div class="dashboard">
                    <div>
                        <h1>Profile</h1>
                    </div>
                    <div>
                        <div class="gadgets-side__header">
                            <button class="menu-button" id="menu-btn">
                                <span class="material-icons-sharp menu-button__icon">menu</span>
                            </button>

                            <div class="theme-toggler">
                                <span class="
                            material-icons-sharp 
                            theme-toggler__button
                            theme-toggler__button--light
                            theme-toggler__button--active">light_mode</span>
                                <span class="
                            material-icons-sharp 
                            theme-toggler__button--dark
                            theme-toggler__button">dark_mode</span>
                            </div>

                            <div class="profile">
                                <div class="profile__info">
                                    <p>Hey, <b>
                                            <%=executeBasicInfo[0].full_name%>
                                        </b></p>
                                    <small class="text-muted">
                                        <%=executeCompany[0].designation%>
                                    </small>
                                </div>
                                <div>
                                    <img class="profile__photo" src="/assets/profile-3.jpg" alt="profile-picture">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- Insights -->
                <div class="dashboard__insights">
                    <!-- CARD OF SALES -->
                    <div class="card">
                        <div class="profile-page">
                            <div>
                                <div class="profile-img">
                                    <div class="img">
                                        <img class="main-img" src="/upload_compressed/<%=executeBasicInfo[0].profile_pic%>">
                                    </div>
                                </div>

                                <div class="tag">
                                    <div class="tag-header">
                                        <i class="bi bi-tag-fill"></i> Tags
                                    </div>
                                    <div class="tag-body">
                                        <center>
                                            <div style="margin-bottom: 10px;"><i class="bi bi-emoji-smile"></i></div>   
                                            <h3 class="tag-title">No Tags Assigned Yet</h3>
                                    </center>
                                    </div>
                                </div>
                            </div>
                            <div class="profile-details">
                                <div class="basic-info">
                                    <div class="basic-heading">
                                        <div>
                                            <span class="material-symbols-outlined">
                                                person
                                            </span>
                                        </div>
                                        <div class="basic">
                                            <span> Basic Information</span>
                                        </div>

                                    </div>
                                    <div class="basic-details">

                                        <div class="row1">
                                            <div class="left">Full Name</div>
                                            <div class="right">
                                                <%= executeBasicInfo[0].full_name%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Employee ID</div>
                                            <div class="right">
                                                <%=executeBasicInfo[0].employee_id%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Email</div>
                                            <div class="right"> <%=executeEmail[0].email%></div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Gender</div>
                                            <div class="right">
                                                <%=executeBasicInfo[0].gender%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Birthday</div>
                                            <div class="right">
                                                <%=executeBasicInfo[0].birthdate.toLocaleDateString() %>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Status</div>
                                            <div class="right">
                                                <%=executeBasicInfo[0].marital_status%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Allowed WFH</div>
                                            <% if (executeBasicInfo[0].allowed_wfh==0) { %>
                                                <div class="right" id="wfh" value="<%=executeBasicInfo[0].allowed_wfh%>">No</div>
                                            <%}else{%>
                                                <div class="right" id="wfh" value="<%=executeBasicInfo[0].allowed_wfh%>">Yes
                                                </div>
                                            <%}%>
                                        </div>

                                    </div>
                                </div>
                                <div class="basic-info">
                                    <div class="basic-heading">
                                        <div>
                                            <span class="material-symbols-outlined">
                                                person
                                            </span>
                                        </div>
                                        <div class="basic">
                                            <span> Company Relations</span>
                                        </div>

                                    </div>
                                    <div class="basic-details">

                                        <div class="row1">
                                            <div class="left">Department</div>
                                            <div class="right">
                                                <%=executeCompany[0].department%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Designation</div>
                                            <div class="right">
                                                <%=executeCompany[0].designation%>
                                            </div>
                                        </div>

                                        <div class="row1">
                                            <div class="left">Joining Date</div>
                                            <div class="right">
                                                <%=executeCompany[0].join_date.toLocaleDateString() %>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Probation End Date</div>
                                            <div class="right">
                                                <%=executeCompany[0].probation_date.toLocaleDateString()%>
                                            </div>
                                        </div>


                                    </div>
                                </div>


                                <div class="basic-info">
                                    <div class="basic-heading">
                                        <div>
                                            <span class="material-symbols-outlined">
                                                call
                                            </span>
                                        </div>
                                        <div class="basic">
                                            <span> Contact Information</span>
                                        </div>

                                    </div>
                                    <div class="basic-details">

                                        <div class="row1 add">
                                            <div class="left">Mobile Phone</div>
                                            <div class="right">
                                                <%=executeContact[0].contact_no%>
                                            </div>
                                        </div>
                                        <div class="row1 add">
                                            <div class="left">Emergency Contact Number</div>
                                            <div class="right">
                                                <%=executeContact[0].emergency_contact%>
                                            </div>
                                        </div>
                                        <div class="row1 add">
                                            <div class="left">Emergency Contact Person</div>
                                            <div class="right">
                                                <%=executeContact[0].emergency_person_name%>
                                            </div>
                                        </div>
                                        <div class="row1 add">
                                            <div class="left">Current Address</div>
                                            <div class="right">
                                                <%=executeContact[0].permenant_address%>
                                            </div>
                                        </div>
                                        <div class="row1 add">
                                            <div class="left">Permanent Address</div>
                                            <div class="right">
                                                <%=executeContact[0].current_address%>
                                            </div>
                                        </div>


                                    </div>
                                </div>

                              

                                <div class="basic-info">
                                    <div class="basic-heading">
                                        <div>
                                            <span class="material-symbols-outlined">
                                                share
                                            </span>
                                        </div>
                                        <div class="basic">
                                            <span> Social Network</span>
                                        </div>

                                    </div>
                                    <div class="basic-details">

                                        <div class="row1">
                                            <div class="left">Facebook username</div>
                                            <div class="right">
                                                <%=executeSocial[0].twitter%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Twitter username</div>
                                            <div class="right">
                                                <%=executeSocial[0].twitter%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">LinkedIn username</div>
                                            <div class="right">
                                                <%=executeSocial[0].linkedin%>
                                            </div>
                                        </div>
                                        <div class="row1">
                                            <div class="left">Github username</div>
                                            <div class="right">
                                                <%=executeSocial[0].github %>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
    </div>
    <!-- <script src="/js/profile.js"></script>
     -->
     <script>
        async function getUserInfo() {
    try {
        let res = await fetch(`/self/get-user`);
    
        let {user_data} = await res.json();
        // document.querySelector('.user-name').innerHTML = user_data.full_name;
        // document.querySelector('.text-muted').innerHTML = user_data.designation;
        if(!(user_data.profile_pic=="undefined")){
            document.querySelector('.profile__photo').setAttribute('src',`/upload_compressed/${user_data.profile_pic}`)
        }
        
    
    } catch (err) {
        console.log(err);
    
    }
}

getUserInfo();
     </script>
    <script src="/js/theme.js"></script>
</body>

</html>